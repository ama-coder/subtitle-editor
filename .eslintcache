[{"/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Studio.tsx":"1","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/CaptionEditor.tsx":"2","/home/hamidb80/Documents/programming/node/subtitle-editor/src/index.tsx":"3","/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Intro.tsx":"4","/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/states.ts":"5","/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/caption.ts":"6","/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/timestamp.ts":"7","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/FileInput.tsx":"8","/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/storage.ts":"9","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/index.ts":"10","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/index.ts":"11","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/CaptionView.tsx":"12","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/VideoPlayer.tsx":"13","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/TimeControll.tsx":"14","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/SubtitleTimeLine.tsx":"15","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/CircleBtn.tsx":"16","/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/index.ts":"17","/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/SimpleTimeline.tsx":"18","/home/hamidb80/Documents/programming/node/subtitle-editor/src/App.tsx":"19","/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/consts.ts":"20","/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Help.tsx":"21"},{"size":9831,"mtime":1613230131203,"results":"22","hashOfConfig":"23"},{"size":4308,"mtime":1613229703194,"results":"24","hashOfConfig":"23"},{"size":194,"mtime":1613055114947,"results":"25","hashOfConfig":"23"},{"size":2122,"mtime":1613230063918,"results":"26","hashOfConfig":"23"},{"size":200,"mtime":1613198817518,"results":"27","hashOfConfig":"23"},{"size":1084,"mtime":1613224479365,"results":"28","hashOfConfig":"23"},{"size":1501,"mtime":1613118925980,"results":"29","hashOfConfig":"23"},{"size":1363,"mtime":1613152432763,"results":"30","hashOfConfig":"23"},{"size":218,"mtime":1613057904505,"results":"31","hashOfConfig":"23"},{"size":104,"mtime":1613058137903,"results":"32","hashOfConfig":"23"},{"size":366,"mtime":1613024741941,"results":"33","hashOfConfig":"23"},{"size":878,"mtime":1613152381957,"results":"34","hashOfConfig":"23"},{"size":3769,"mtime":1613152378529,"results":"35","hashOfConfig":"23"},{"size":3239,"mtime":1613210827807,"results":"36","hashOfConfig":"23"},{"size":7047,"mtime":1613222708486,"results":"37","hashOfConfig":"23"},{"size":769,"mtime":1613152503210,"results":"38","hashOfConfig":"23"},{"size":115,"mtime":1613225492158,"results":"39","hashOfConfig":"23"},{"size":1799,"mtime":1613152381429,"results":"40","hashOfConfig":"23"},{"size":469,"mtime":1613226539930,"results":"41","hashOfConfig":"23"},{"size":248,"mtime":1613197808544,"results":"42","hashOfConfig":"23"},{"size":1952,"mtime":1613230232648,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1q74ztc",{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Studio.tsx",["93"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/CaptionEditor.tsx",["94","95","96","97"],"import React, { ChangeEvent } from 'react'\nimport hotkeys from 'hotkeys-js'\n\nimport { TimeControll } from \".\"\nimport { Caption } from \"../../utils/caption\"\n\nimport { SHOOT_TIME_MINOR } from \"../../utils/consts\"\n\nimport './caption-editor.sass'\n\n\ntype Props = {\n  currentTime: number // for stick time button\n  caption: Caption | null\n  totalTime: number\n  onCaptionChanged: (c: Caption) => void\n}\ntype State = {\n  my_caption: Caption | null,\n  content2change: string\n}\n\nclass CaptionEditor extends React.Component<Props, State> {\n  inputRef: React.RefObject<HTMLInputElement>\n\n  constructor(props: any) {\n    super(props)\n\n    this.state = {\n      my_caption: null,\n      content2change: \"\"\n    }\n\n    this.inputRef = React.createRef()\n\n    this.onCaptionContentChanged = this.onCaptionContentChanged.bind(this)\n    this.onCaptionTimeRangeChange = this.onCaptionTimeRangeChange.bind(this)\n    this.handleCaptionChange = this.handleCaptionChange.bind(this)\n    this.isCapInTimeRange = this.isCapInTimeRange.bind(this)\n  }\n  componentDidMount() {\n    hotkeys('alt+left', () => {\n      this.onCaptionTimeRangeChange(-SHOOT_TIME_MINOR, 0)\n    })\n    hotkeys('alt+right', () => {\n      this.onCaptionTimeRangeChange(+SHOOT_TIME_MINOR, 0)\n    })\n\n    hotkeys('tab+left', kv => {\n      kv.preventDefault()\n      this.onCaptionTimeRangeChange(0, -SHOOT_TIME_MINOR)\n    })\n    hotkeys('tab+right', kv => {\n      kv.preventDefault()\n      this.onCaptionTimeRangeChange(0, +SHOOT_TIME_MINOR)\n    })\n  }\n\n  componentDidUpdate() {\n    if (this.props.caption === null && this.state.my_caption !== null ||\n      this.props.caption !== null && (this.props.caption.hash !== this.state.my_caption?.hash)) {\n\n      this.handleCaptionChange() // onblur is not triggered when you blur it by code, so this line solves the problem\n\n      this.setState({\n        my_caption: this.props.caption === null ? null : { ...this.props.caption },\n        content2change: this.props.caption !== null ? this.props.caption.content : \"\"\n      })\n    }\n  }\n\n  onCaptionContentChanged(e: ChangeEvent<HTMLInputElement>) {\n    this.setState({ content2change: e.target.value })\n  }\n  // null value for stick time button\n  isCapInTimeRange(time: number): boolean {\n    return time >= 0 && time <= this.props.totalTime\n  }\n  onCaptionTimeRangeChange(startChange: number | null = 0, endChange: number | null = 0) {\n    if (this.state.my_caption !== null) {\n      const cap = this.state.my_caption\n\n      // controll the caption start/end time \n      if (startChange === null)\n        cap.start = this.props.currentTime\n      else if (this.isCapInTimeRange(cap.start + startChange))\n        cap.start += startChange\n\n      if (endChange === null)\n        cap.end = this.props.currentTime\n      else if (this.isCapInTimeRange(cap.end + endChange))\n        cap.end += endChange\n\n      // sync end & start\n      if (cap.start > cap.end) {\n        if (endChange === 0)\n          cap.end = cap.start\n        else\n          cap.start = cap.end\n      }\n\n      this.props.onCaptionChanged(cap)\n    }\n  }\n\n  handleCaptionChange() {\n    // only trigger the event when content changed\n    if (this.state.my_caption) {\n      const cap = this.state.my_caption\n      cap.content = this.state.content2change\n\n      this.props.onCaptionChanged(cap)\n    }\n  }\n\n  render() {\n    const cap = this.props.caption // myabe it's not available [for eg it can be removed]\n    if (cap)\n      this.inputRef.current?.focus()\n\n    return (\n      <div className=\"caption-editor-wrapper\">\n        {cap ?\n          <TimeControll\n            time={cap.start}\n            onChange={changeValue => { this.onCaptionTimeRangeChange(changeValue, 0) }}\n          /> :\n          <TimeControll time={0} />\n        }\n\n        <div>\n          <input type=\"text\" ref={this.inputRef}\n            className={\"form-control caption-editor \" + (cap ? '' : 'invisible')}\n            value={this.state.content2change}\n            onChange={this.onCaptionContentChanged}\n            onBlur={this.handleCaptionChange} />\n        </div>\n\n        {cap ?\n          <TimeControll\n            time={cap.end}\n            onChange={changeValue => { this.onCaptionTimeRangeChange(0, changeValue) }}\n          /> :\n          <TimeControll time={0} />\n        }\n      </div>\n    )\n  }\n}\n\nexport default CaptionEditor\n","/home/hamidb80/Documents/programming/node/subtitle-editor/src/index.tsx",[],["98","99"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Intro.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/states.ts",[],["100","101"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/caption.ts",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/timestamp.ts",[],["102","103"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/FileInput.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/storage.ts",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/index.ts",[],["104","105"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/index.ts",[],["106","107"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/CaptionView.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/VideoPlayer.tsx",[],["108","109"],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/TimeControll.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/SubtitleTimeLine.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/form/CircleBtn.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/index.ts",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/components/video/SimpleTimeline.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/App.tsx",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/utils/consts.ts",[],"/home/hamidb80/Documents/programming/node/subtitle-editor/src/pages/Help.tsx",[],{"ruleId":"110","severity":1,"message":"111","line":183,"column":7,"nodeType":"112","endLine":183,"endColumn":26},{"ruleId":"113","severity":1,"message":"114","line":60,"column":37,"nodeType":"115","messageId":"116","endLine":60,"endColumn":39},{"ruleId":"113","severity":1,"message":"114","line":60,"column":71,"nodeType":"115","messageId":"116","endLine":60,"endColumn":73},{"ruleId":"113","severity":1,"message":"117","line":60,"column":71,"nodeType":"115","messageId":"116","endLine":60,"endColumn":73},{"ruleId":"113","severity":1,"message":"117","line":61,"column":35,"nodeType":"115","messageId":"116","endLine":61,"endColumn":37},{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"118","replacedBy":"122"},{"ruleId":"120","replacedBy":"123"},{"ruleId":"118","replacedBy":"124"},{"ruleId":"120","replacedBy":"125"},{"ruleId":"118","replacedBy":"126"},{"ruleId":"120","replacedBy":"127"},{"ruleId":"118","replacedBy":"128"},{"ruleId":"120","replacedBy":"129"},{"ruleId":"118","replacedBy":"130"},{"ruleId":"120","replacedBy":"131"},"react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","Unexpected mix of '||' and '&&'.","no-native-reassign",["132"],"no-negated-in-lhs",["133"],["132"],["133"],["132"],["133"],["132"],["133"],["132"],["133"],["132"],["133"],"no-global-assign","no-unsafe-negation"]